active role state machine

# Active Role Details #

The active role is implemented as a state machine like this:
![http://wiki.back-to-work.googlecode.com/git/flooow.png](http://wiki.back-to-work.googlecode.com/git/flooow.png)